{% extends 'base.html' %}

{% block content %}
    <div class="genre-filter">
        <h3>Жанрлар боюнча фильтрлөө:</h3>
        <a href="{% url 'movie_list' %}" class="btn {% if not selected_genre %}btn-primary{% else %}btn-secondary{% endif %}">
            Баары
        </a>
        {% for genre in genres %}
            <a href="?genre={{ genre.name }}" 
               class="btn {% if selected_genre == genre.name %}btn-primary{% else %}btn-secondary{% endif %}">
                {{ genre.name }}
            </a>
        {% endfor %}
    </div>

    <div class="movie-list">
        {% for movie in movies %}
            <div class="movie-card">
                <h2>{{ movie.title }}</h2>
                <p>Жанрлар: 
                    {% for genre in movie.genres.all %}
                        {{ genre.name }}{% if not forloop.last %}, {% endif %}
                    {% endfor %}
                </p>
                <!-- башка маалыматтар -->
            </div>
        {% empty %}
            <p>Фильмдер табылган жок.</p>
        {% endfor %}
    </div>
{% endblock %}
